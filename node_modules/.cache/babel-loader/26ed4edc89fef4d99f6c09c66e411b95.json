{"ast":null,"code":"import _classCallCheck from\"/Users/Kseniya/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/Kseniya/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(host,headers){_classCallCheck(this,Api);this._host=host;this._headers=headers;}_createClass(Api,[{key:\"_getJsonErrors\",value:function _getJsonErrors(res){if(res.ok){return res.json();}throw new Error(\"Ошибка при загрузке данных\");}},{key:\"getCards\",value:function getCards(){var _this=this;return fetch(this._host+\"cards\",{headers:this._headers}).then(function(res){return _this._getJsonErrors(res);});}},{key:\"getUserInfo\",value:function getUserInfo(){var _this2=this;return fetch(this._host+\"users/me\",{method:\"GET\",headers:this._headers}).then(function(res){return _this2._getJsonErrors(res);});}},{key:\"editUserInfo\",value:function editUserInfo(data){var _this3=this;return fetch(this._host+\"users/me\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify(data)}).then(function(res){return _this3._getJsonErrors(res);});}},{key:\"createCard\",value:function createCard(payload){var _this4=this;return fetch(this._host+\"cards\",{method:\"POST\",headers:this._headers,body:JSON.stringify(payload)}).then(function(res){return _this4._getJsonErrors(res);});}},{key:\"setAvatar\",value:function setAvatar(data){var _this5=this;return fetch(this._host+\"users/me/avatar\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:data})}).then(function(res){return _this5._getJsonErrors(res);});}},{key:\"deleteCard\",value:function deleteCard(id){var _this6=this;return fetch(\"\".concat(this._host,\"cards/\").concat(id),{method:\"DELETE\",headers:this._headers}).then(function(res){return _this6._getJsonErrors(res);});}},{key:\"toggleLike\",value:function toggleLike(id,isLike){var _this7=this;return fetch(\"\".concat(this._host,\"cards/\").concat(id,\"/likes\"),{method:isLike?\"DELETE\":\"PUT\",headers:this._headers}).then(function(res){return _this7._getJsonErrors(res);});}}]);return Api;}();export{Api as default};","map":{"version":3,"names":["Api","host","headers","_host","_headers","res","ok","json","Error","fetch","then","_getJsonErrors","method","data","body","JSON","stringify","payload","avatar","id","isLike"],"sources":["/Users/Kseniya/dev/mesto-react/mesto-react/src/utils/Api.js"],"sourcesContent":["\nexport default class Api {\n  constructor(host, headers) {\n    this._host = host;\n    this._headers = headers;\n  }\n\n  _getJsonErrors(res){\n    if (res.ok) {\n        return res.json();\n      }\n      throw new Error(\"Ошибка при загрузке данных\");\n    }\n\n  getCards() {\n    return fetch(this._host + \"cards\", {\n      headers: this._headers,\n    })\n    .then((res) => this._getJsonErrors(res))\n  }\n\n  getUserInfo() {\n    return fetch(this._host + \"users/me\", {\n      method: \"GET\",\n      headers: this._headers,\n    })\n    .then((res) => this._getJsonErrors(res))\n  }\n\n  editUserInfo(data) {\n    return fetch(this._host + \"users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    })\n    .then((res) => this._getJsonErrors(res))\n  }\n\n  createCard(payload) {\n    return fetch(this._host + \"cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(payload),\n    })\n    .then((res) => this._getJsonErrors(res))\n  }\n\n  setAvatar(data) {\n    return fetch(this._host + \"users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ avatar: data }),\n    })\n    .then((res) => this._getJsonErrors(res))\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._host}cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n    .then((res) => this._getJsonErrors(res))\n  }\n\n  toggleLike(id, isLike) {\n    return fetch(`${this._host}cards/${id}/likes`, {\n      method: isLike ? \"DELETE\" : \"PUT\",\n      headers: this._headers,\n    })\n    .then((res) => this._getJsonErrors(res))\n  }\n}\n"],"mappings":"iQACqBA,I,yBACnB,aAAYC,IAAZ,CAAkBC,OAAlB,CAA2B,2BACzB,KAAKC,KAAL,CAAaF,IAAb,CACA,KAAKG,QAAL,CAAgBF,OAAhB,CACD,C,8CAED,wBAAeG,GAAf,CAAmB,CACjB,GAAIA,GAAG,CAACC,EAAR,CAAY,CACR,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACD,CACD,KAAM,IAAIC,MAAJ,CAAU,4BAAV,CAAN,CACD,C,wBAEH,mBAAW,gBACT,MAAOC,MAAK,CAAC,KAAKN,KAAL,CAAa,OAAd,CAAuB,CACjCD,OAAO,CAAE,KAAKE,QADmB,CAAvB,CAAL,CAGNM,IAHM,CAGD,SAACL,GAAD,QAAS,MAAI,CAACM,cAAL,CAAoBN,GAApB,CAAT,EAHC,CAAP,CAID,C,2BAED,sBAAc,iBACZ,MAAOI,MAAK,CAAC,KAAKN,KAAL,CAAa,UAAd,CAA0B,CACpCS,MAAM,CAAE,KAD4B,CAEpCV,OAAO,CAAE,KAAKE,QAFsB,CAA1B,CAAL,CAINM,IAJM,CAID,SAACL,GAAD,QAAS,OAAI,CAACM,cAAL,CAAoBN,GAApB,CAAT,EAJC,CAAP,CAKD,C,4BAED,sBAAaQ,IAAb,CAAmB,iBACjB,MAAOJ,MAAK,CAAC,KAAKN,KAAL,CAAa,UAAd,CAA0B,CACpCS,MAAM,CAAE,OAD4B,CAEpCV,OAAO,CAAE,KAAKE,QAFsB,CAGpCU,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAH8B,CAA1B,CAAL,CAKNH,IALM,CAKD,SAACL,GAAD,QAAS,OAAI,CAACM,cAAL,CAAoBN,GAApB,CAAT,EALC,CAAP,CAMD,C,0BAED,oBAAWY,OAAX,CAAoB,iBAClB,MAAOR,MAAK,CAAC,KAAKN,KAAL,CAAa,OAAd,CAAuB,CACjCS,MAAM,CAAE,MADyB,CAEjCV,OAAO,CAAE,KAAKE,QAFmB,CAGjCU,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeC,OAAf,CAH2B,CAAvB,CAAL,CAKNP,IALM,CAKD,SAACL,GAAD,QAAS,OAAI,CAACM,cAAL,CAAoBN,GAApB,CAAT,EALC,CAAP,CAMD,C,yBAED,mBAAUQ,IAAV,CAAgB,iBACd,MAAOJ,MAAK,CAAC,KAAKN,KAAL,CAAa,iBAAd,CAAiC,CAC3CS,MAAM,CAAE,OADmC,CAE3CV,OAAO,CAAE,KAAKE,QAF6B,CAG3CU,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEE,MAAM,CAAEL,IAAV,CAAf,CAHqC,CAAjC,CAAL,CAKNH,IALM,CAKD,SAACL,GAAD,QAAS,OAAI,CAACM,cAAL,CAAoBN,GAApB,CAAT,EALC,CAAP,CAMD,C,0BAED,oBAAWc,EAAX,CAAe,iBACb,MAAOV,MAAK,WAAI,KAAKN,KAAT,kBAAuBgB,EAAvB,EAA6B,CACvCP,MAAM,CAAE,QAD+B,CAEvCV,OAAO,CAAE,KAAKE,QAFyB,CAA7B,CAAL,CAINM,IAJM,CAID,SAACL,GAAD,QAAS,OAAI,CAACM,cAAL,CAAoBN,GAApB,CAAT,EAJC,CAAP,CAKD,C,0BAED,oBAAWc,EAAX,CAAeC,MAAf,CAAuB,iBACrB,MAAOX,MAAK,WAAI,KAAKN,KAAT,kBAAuBgB,EAAvB,WAAmC,CAC7CP,MAAM,CAAEQ,MAAM,CAAG,QAAH,CAAc,KADiB,CAE7ClB,OAAO,CAAE,KAAKE,QAF+B,CAAnC,CAAL,CAINM,IAJM,CAID,SAACL,GAAD,QAAS,OAAI,CAACM,cAAL,CAAoBN,GAApB,CAAT,EAJC,CAAP,CAKD,C,0BArEkBL,G"},"metadata":{},"sourceType":"module"}